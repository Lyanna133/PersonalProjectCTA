<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chapter 1</title>
<link rel="stylesheet" href="style3.css">
<!--  -->
</head>
<body>

<div class="container">
    <h1 class="chapter-title">Chapter 1: The Confrontation</h1>
    <div class="chapter-content" id="chapterContent">
      <!-- Insert the content of the chapter here -->
      <p id="chapterText"></p>
    </div>
    <button class="editButton" onclick="editChapter()" id="editButton">Edit Chapter</button>
    <div class="navigation">
      <a href="index7.html">Next Chapter</a>
      <!-- Add more navigation controls as needed -->
    </div>
  </div>
  
<!-- ... existing code ... -->

<script>
    // Function to get the stored chapter text from local storage
    function getStoredChapterText() {
      return localStorage.getItem('chapterText') || '';
    }
  
    // Function to set the chapter text to local storage
    function setStoredChapterText(text) {
      localStorage.setItem('chapterText', text);
    }
  
    function editChapter() {
      const chapterTextElement = document.getElementById('chapterText');
      const editButton = document.getElementById('editButton');
      
      // Create a textarea element for editing
      const textarea = document.createElement('textarea');
      textarea.id = 'chapterTextarea';
      textarea.value = getStoredChapterText(); // Set the stored text
      textarea.rows = '10'; // Set the number of rows
      textarea.cols = '50'; // Set the number of columns
      
      // Apply additional styling to control dimensions
      textarea.style.width = '100%';
      textarea.style.padding = '1rem';
      textarea.style.boxSizing = 'border-box';
      
      // Replace the paragraph with the textarea
      chapterTextElement.replaceWith(textarea);
      
      // Change the button text and functionality
      editButton.textContent = 'Save Changes';
      editButton.onclick = saveChapter;
    }
  
    function saveChapter() {
      const chapterTextarea = document.getElementById('chapterTextarea');
      const chapterTextElement = document.getElementById('chapterContent');
      const editButton = document.getElementById('editButton');
      
      // Replace the textarea with a new paragraph containing the edited text
      const newParagraph = document.createElement('p');
      newParagraph.id = 'chapterText';
      newParagraph.textContent = chapterTextarea.value;
      chapterTextarea.replaceWith(newParagraph);
      
      // Change the button text and functionality back to edit
      editButton.textContent = 'Edit Chapter';
      editButton.onclick = editChapter;
  
      // Save the edited text to local storage
      setStoredChapterText(chapterTextarea.value);
    }
  
    // Initialize the page with the stored chapter text
    document.addEventListener('DOMContentLoaded', function() {
      const chapterTextElement = document.getElementById('chapterText');
      chapterTextElement.textContent = getStoredChapterText();
    });
</script>

<!-- ... existing code ... -->

</body>
</html>
